<div class="container mt-3" [formGroup]="addForm">
    <h1 class="text-center">Create contact</h1>
    <div class="row">
        <mat-form-field class="col-lg-6">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name"/>
        </mat-form-field>
        <mat-form-field class="col-lg-6">
            <mat-label>Email</mat-label>
            <input matInput  formControlName="email"/>
        </mat-form-field>
    </div>
    <div class="row">
        <div formArrayName="phonenumber">
            <div *ngFor="let phone of addForm.get('phonenumber')['controls']; let i = index;">
              <div [formGroupName]="i">
                <mat-form-field class="col-lg-5 me-2">
                  <mat-label>Phone Number</mat-label>
                  <input matInput formControlName="number" />
                </mat-form-field>
                <mat-form-field class="col-lg-5">
                    <mat-label>Type</mat-label>
                    <mat-select formControlName="type">
                      <mat-option value="mobile">Mobile</mat-option>
                      <mat-option value="home">Home</mat-option>
                      <mat-option value="work">Work</mat-option>
                      <mat-option value="other">other</mat-option>
                    </mat-select>
                  </mat-form-field>
                  <button class="btn btn-danger ms-2" (click)="deletePhoneNumber(i)">
                    <mat-icon>delete_forever</mat-icon>
                  </button>
              </div>
            </div>
          </div>
    </div>
    <div class="text-center mb-3">
      <button mat-mini-fab class="btn btn-primary" (click)="addPhoneNumber()">
        <mat-icon>add</mat-icon>
      </button>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <mat-label>Company</mat-label>
        <input matInput formControlName="company" readonly/>
      </mat-form-field>
      <mat-form-field class="col">
        <mat-label>Role</mat-label>
        <input matInput formControlName="role"/>
      </mat-form-field>
    </div>
    <div class="row">
      <mat-form-field class="col">
        <mat-label>Gender</mat-label>
        <mat-select [(value)]="selected" formControlName="gender">
        <mat-option value="female">Female</mat-option>
        <mat-option value="male">Male</mat-option>
      </mat-select>
      </mat-form-field>
      <mat-form-field class="col">
        <mat-label>Notes</mat-label>
        <textarea matInput cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1"
          cdkAutosizeMaxRows="5" formControlName="notes"></textarea>
      </mat-form-field>
    </div>
    <div class="d-flex justify-content-center mb-3">
        <button class="btn btn-primary me-3" type="submit" (click)="createContact()">save contact</button>
        <button class="btn btn-danger" type="submit" (click)="closeDialog()">cancel</button>
    </div>
</div>